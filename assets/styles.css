/* ==========================================================================
   Web Mania Studio - styles.css (Final)
   - Light/Dark theme (soft light)
   - Glassmorphism + Aurora background
   - Header (nav centered, actions left, brand right with circular logo)
   - Local SVG icons, RTL/LTR
   - Hero visual hover fixed (isolation, z-index)
   - Components: cards, buttons, slider, modal, FAQ, pricing, estimator
   - Borders/icons refined, consistent across pages
   ========================================================================== */

/* Reset */
*,*::before,*::after{box-sizing:border-box}
html{-webkit-text-size-adjust:100%;scroll-behavior:smooth}
body{margin:0}
img,svg,video,canvas,audio,iframe,embed,object{display:block;max-width:100%}
img{height:auto}
button,input,select,textarea{font:inherit;color:inherit}
a{text-decoration:none;color:inherit}
ul,ol{margin:0;padding:0;list-style:none}
h1,h2,h3,h4,h5,h6,p{margin:0}
table{border-collapse:collapse;border-spacing:0}
:focus-visible{outline:2px solid rgba(59,130,246,.75);outline-offset:2px}
::selection{background:rgba(59,130,246,.25)}

/* Tokens (light softened) */
:root{
  --bg:#eaf0f6;             /* softer than #f3f5f9 */
  --surface:rgba(255,255,255,.68);
  --surface-2:rgba(255,255,255,.52);
  --text:#0f172a;
  --muted:#475569;
  --muted-2:#64748b;
  --line:rgba(15,23,42,.10);

  --primary-1:#3b82f6;
  --primary-2:#8b5cf6;
  --accent:#ec4899;
  --success:#10b981;
  --danger:#ef4444;

  --glass-blur:12px;
  --radius-sm:.5rem; --radius-md:.75rem; --radius-lg:1rem; --radius-xl:1.25rem; --radius-2xl:1.5rem;

  --shadow-sm:0 6px 16px rgba(0,0,0,.06);
  --shadow-md:0 10px 24px rgba(0,0,0,.08);
  --shadow-lg:0 16px 32px rgba(0,0,0,.12);

  --header-h:72px;
}
html.dark{
  --bg:#0f172a;
  --surface:rgba(15,23,42,.72);
  --surface-2:rgba(15,23,42,.55);
  --text:#e5e7eb;
  --muted:#cbd5e1;
  --muted-2:#94a3b8;
  --line:rgba(255,255,255,.12);
  --shadow-sm:0 6px 16px rgba(0,0,0,.35);
  --shadow-md:0 10px 24px rgba(0,0,0,.45);
  --shadow-lg:0 16px 32px rgba(0,0,0,.55);
}

/* Typography */
body{
  background:var(--bg);color:var(--text);
  font-family:'Manrope',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  line-height:1.6;transition:background .3s,color .3s
}
html[lang="fa"] body{font-family:'Vazirmatn',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;letter-spacing:.05px}
h1,h2,h3,h4,h5,h6{font-family:'Orbitron',sans-serif;line-height:1.2;letter-spacing:.2px}
h1{font-size:clamp(2rem,4vw+1rem,3.5rem)}
h2{font-size:clamp(1.5rem,2.6vw+1rem,2.25rem)}
h3{font-size:clamp(1.25rem,1.8vw+.85rem,1.5rem)}
p{color:var(--muted)}

.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.text-4xl{font-size:2.25rem}
.font-bold{font-weight:700}.font-extrabold{font-weight:800}.italic{font-style:italic}
.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}
.text-white{color:#fff}.opacity-70{opacity:.7}.opacity-80{opacity:.8}

/* Layout utils */
.max-w-3xl{max-width:48rem}.max-w-5xl{max-width:64rem}.max-w-7xl{max-width:80rem}
.mx-auto{margin-left:auto;margin-right:auto}
.w-full{width:100%}.h-full{height:100%}.min-h-screen{min-height:100vh}
.block{display:block}.inline-block{display:inline-block}.hidden{display:none!important}
.flex{display:flex}.grid{display:grid}.inline-flex{display:inline-flex}
.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}
.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}
.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}
.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}
.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}
.h-16{height:64px}.w-8{width:2rem}.h-8{height:2rem}
.rounded-md{border-radius:.5rem}.rounded-lg{border-radius:.75rem}.rounded-xl{border-radius:1rem}.rounded-2xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}
.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}
.px-4{padding-left:1rem;padding-right:1rem}.py-10{padding-top:2.5rem;padding-bottom:2.5rem}.py-16{padding-top:4rem;padding-bottom:4rem}
.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-8{margin-top:2rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}
.pt-20{padding-top:5rem}

/* Responsive */
@media (min-width:768px){.md\:hidden{display:none!important}.md\:grid{display:grid}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}
@media (min-width:1024px){.lg\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}

/* Background Aurora + Pattern */
.site-bg{position:fixed;inset:0;z-index:-1;overflow:hidden}
.aurora{position:absolute;inset:0;filter:blur(42px);opacity:.6}
.aurora span{position:absolute;border-radius:9999px;mix-blend-mode:screen}
.aurora .a1{width:46vw;height:46vw;left:-12vw;top:-12vw;background:linear-gradient(135deg,#60a5fa,#a78bfa);animation:moveA 18s ease-in-out infinite}
.aurora .a2{width:38vw;height:38vw;right:-10vw;bottom:-14vw;background:linear-gradient(135deg,#a78bfa,#f472b6);animation:moveB 22s ease-in-out infinite}
.aurora .a3{width:30vw;height:30vw;left:22vw;bottom:-10vw;background:linear-gradient(135deg,#f472b6,#60a5fa);animation:moveC 26s ease-in-out infinite}
.pattern{position:absolute;inset:0;pointer-events:none;background-image:radial-gradient(rgba(0,0,0,.05) 1px, transparent 1px);background-size:22px 22px}
html.dark .pattern{background-image:radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px)}
.site-bg::after{content:'';position:absolute;inset:0;opacity:.04;pointer-events:none;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" opacity="0.5" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');mix-blend-mode:overlay}

/* Glass, Cards, Badges */
.glass{background:var(--surface);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur));border:1px solid rgba(255,255,255,.22);border-radius:1rem}
html.dark .glass{border-color:rgba(255,255,255,.10)}
.card{border-radius:1rem;overflow:hidden;box-shadow:var(--shadow-sm);transition:transform .2s, box-shadow .25s}
.card:hover{transform:translateY(-4px);box-shadow:var(--shadow-md)}
.badge{display:inline-flex;align-items:center;justify-content:center;padding:.35rem .7rem;border-radius:999px;font-size:.75rem;background:rgba(0,0,0,.06);color:var(--text)}
html.dark .badge{background:rgba(255,255,255,.08)}

/* Buttons */
.gradient-text{background:linear-gradient(90deg,var(--primary-1),var(--primary-2));-webkit-background-clip:text;background-clip:text;color:transparent}
.btn-primary{display:inline-flex;align-items:center;justify-content:center;padding:.8rem 1.2rem;border-radius:9999px;border:0;color:#fff;font-weight:700;cursor:pointer;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));box-shadow:0 10px 28px rgba(59,130,246,.28);transition:transform .15s, box-shadow .2s}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 14px 34px rgba(59,130,246,.34)}
.btn-ghost{padding:.6rem .8rem;border-radius:.8rem;background:var(--surface-2);border:1px solid var(--line);font-weight:600;cursor:pointer;transition:transform .15s, box-shadow .2s, background .2s}
.btn-ghost:hover{transform:translateY(-2px);box-shadow:var(--shadow-sm)}
.magnet{position:relative;overflow:hidden}
.magnet::after{content:'';position:absolute;inset:0;background:radial-gradient(200px 200px at var(--x,50%) var(--y,50%), rgba(255,255,255,.25), transparent 40%);opacity:0;transition:opacity .2s}
.magnet:hover::after{opacity:1}

/* Local SVG icons */
.icon{width:1.1rem;height:1.1rem;fill:currentColor;display:inline-block;vertical-align:middle}
.icon-lg{width:1.3rem;height:1.3rem}
.icon-xl{width:1.6rem;height:1.6rem}

/* Header (actions left, nav center, brand right) */
.site-header{position:fixed;top:0;left:0;right:0;z-index:50;background:var(--surface);border-bottom:1px solid var(--line);backdrop-filter:blur(16px)}
.header-inner{
  height:var(--header-h);
  display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:1rem;padding:0 1rem
}
.header-actions{display:flex;align-items:center;gap:.5rem;justify-self:start}
.site-nav{display:flex;align-items:center;gap:1.1rem;justify-self:center;flex-wrap:wrap}
.nav-link{position:relative;font-weight:600;color:var(--text)}
.nav-link::after{content:'';position:absolute;left:0;right:0;bottom:-6px;height:2px;width:0;margin:auto;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));transition:width .2s}
.nav-link:hover::after,.nav-link.active::after{width:100%}
.brand{display:flex;align-items:center;gap:.6rem;justify-self:end}
.brand-logo{width:36px;height:36px;border-radius:9999px;overflow:hidden;border:1px solid var(--line);background:var(--surface-2)}
.brand-logo img{width:100%;height:100%;object-fit:cover}
.brand-name{font-weight:800}
.theme-icon.moon{display:none}
html.dark .theme-icon.sun{display:none}
html.dark .theme-icon.moon{display:inline}

/* Mobile header */
.mobile-only{display:none}
.mobile-nav{display:none;overflow:hidden;border-top:1px solid var(--line);background:var(--surface);backdrop-filter:blur(16px)}
.mobile-nav.open{display:block}
.mobile-link{display:block;padding:.75rem 1rem;border-radius:.6rem;margin:.3rem 1rem;font-weight:600}
.mobile-link:hover{background:var(--surface-2)}
.mobile-actions{display:flex;align-items:center;gap:.5rem;padding:.6rem 1rem 1rem}
.w-full{width:100%}
@media (max-width:1024px){
  .site-nav{display:none}
  .mobile-only{display:inline-flex}
}

/* Hero (cleaner top, isolation fix) */
.hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:2rem;align-items:center;position:relative;isolation:isolate}
@media (max-width:900px){.hero-grid{grid-template-columns:1fr}}
.hero-sub{color:var(--muted-2)}
.check-list li{position:relative;padding-inline-start:1.6rem;margin-bottom:.5rem;color:var(--text)}
.check-list li::before{content:"✓";position:absolute;inset-inline-start:0;top:.1rem;width:1.1rem;height:1.1rem;border-radius:999px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--primary-1),var(--primary-2));color:#fff;font-size:.75rem}

/* Hero visual hover / z-index */
.hero-visual .visual-stack{position:relative;height:360px}
.hero-visual .v-card{position:absolute;inset:auto 0 0 0;border-radius:1rem;overflow:hidden;z-index:0;transition:transform .25s, box-shadow .25s, z-index .1s}
.hero-visual .v-card img{width:100%;height:220px;object-fit:cover}
.hero-visual .v-card:nth-child(1){transform:rotate(-2deg) translate(20px,0)}
.hero-visual .v-card:nth-child(2){transform:rotate(3deg) translate(-20px,40px)}
.hero-visual .v-card:nth-child(3){transform:rotate(-1deg) translate(0,80px)}
.hero-visual .v-card:hover{z-index:5;transform:translateY(-8px) scale(1.03);box-shadow:var(--shadow-lg)}

/* Slider (Testimonials) */
.slider{position:relative;overflow:hidden}
.slider-track{display:flex;transition:transform .5s ease;will-change:transform}
.slide{min-width:100%;padding:.25rem}
.slider-dots{display:flex;gap:.4rem;justify-content:center;margin-top:.6rem}
.slider-dots button{width:8px;height:8px;border-radius:9999px;background:rgba(0,0,0,.2);border:none;cursor:pointer}
html.dark .slider-dots button{background:rgba(255,255,255,.25)}
.slider-dots button.active{background:linear-gradient(90deg,var(--primary-1),var(--primary-2))}

/* Portfolio + filter */
.portfolio-card{position:relative;overflow:hidden;border-radius:1rem;box-shadow:var(--shadow-sm)}
.portfolio-card img{width:100%;height:14rem;object-fit:cover}
.portfolio-overlay{position:absolute;inset:0;background:linear-gradient(to top, rgba(0,0,0,.8), rgba(0,0,0,.1), transparent);opacity:0;transition:opacity .25s}
.portfolio-info{position:absolute;left:0;right:0;bottom:0;padding:1rem;opacity:0;transform:translateY(.5rem);transition:all .25s}
.portfolio-card:hover .portfolio-overlay{opacity:1}
.portfolio-card:hover .portfolio-info{opacity:1;transform:none}
.filter-bar{display:inline-flex;align-items:center;gap:.5rem;padding:.25rem}
.filter-bar .chip{padding:.5rem .8rem;border-radius:.75rem;background:var(--surface-2);border:1px solid var(--line);cursor:pointer;transition:transform .15s, box-shadow .2s, background .2s}
.filter-bar .chip:hover{transform:translateY(-2px);box-shadow:var(--shadow-sm)}
.filter-bar .chip.active{background:linear-gradient(90deg,var(--primary-1),var(--primary-2));color:#fff;border-color:transparent}

/* Modal */
#projectModal{position:fixed;inset:0;z-index:60;background:rgba(0,0,0,.7);opacity:0;visibility:hidden;transition:opacity .25s,visibility .25s;padding:1rem}
#projectModal.is-open{opacity:1;visibility:visible}
.modal-card{max-width:64rem;margin:0 auto;border-radius:1.5rem;overflow:hidden;background:#fff;color:#0f172a;box-shadow:var(--shadow-lg)}
html.dark .modal-card{background:#0b1220;color:#e5e7eb}
.modal-close{position:absolute;top:.75rem;right:.75rem;width:36px;height:36px;border-radius:9999px;background:rgba(255,255,255,.85);border:0;cursor:pointer}
html.dark .modal-close{background:rgba(255,255,255,.12);color:#fff}

/* FAQ */
.faq-item{border-bottom:1px solid var(--line)}
.faq-q{cursor:pointer;display:flex;align-items:center;justify-content:space-between;padding:1rem 0;font-weight:700}
.faq-q .chev{transition:transform .2s;opacity:.7}
.faq-item.open .chev{transform:rotate(180deg)}
.faq-a{max-height:0;overflow:hidden;transition:max-height .3s ease;color:var(--muted)}
.faq-item.open .faq-a{max-height:320px}

/* Pricing switch */
.switch{position:relative;width:48px;height:24px;border-radius:9999px;background:#d1d5db;cursor:pointer;border:1px solid var(--line)}
.switch::after{content:'';position:absolute;top:2px;left:2px;width:18px;height:18px;background:#fff;border-radius:9999px;transition:transform .2s}
.switch.is-on{background:linear-gradient(90deg,var(--primary-1),var(--primary-2))}
.switch.is-on::after{transform:translateX(24px)}

/* Forms */
input,select,textarea{width:100%;background:var(--surface);border:1px solid var(--line);color:var(--text);border-radius:.8rem;padding:.85rem 1rem;outline:none;transition:border-color .2s,box-shadow .2s,background .2s}
input::placeholder,textarea::placeholder{color:var(--muted-2)}
input:focus,select:focus,textarea:focus{border-color:rgba(59,130,246,.6);box-shadow:0 0 0 3px rgba(59,130,246,.15)}
select{appearance:none;background-image:linear-gradient(45deg,transparent 50%,var(--muted) 50%),linear-gradient(135deg,var(--muted) 50%,transparent 50%),linear-gradient(to right,transparent,transparent);background-position:calc(100% - 20px) calc(1em + 2px),calc(100% - 15px) calc(1em + 2px),calc(100% - 2.5em) .5em;background-size:5px 5px,5px 5px,1px 1.5em;background-repeat:no-repeat}
label{display:block;margin-bottom:.35rem;font-weight:600;color:var(--text)}
.form-status{font-size:.9rem;margin-top:.25rem}
.form-status.ok{color:var(--success)}.form-status.err{color:var(--danger)}

/* Team (About page) */
.team-card{border-radius:1rem;overflow:hidden;box-shadow:var(--shadow-sm);background:var(--surface);border:1px solid var(--line)}
.team-photo{position:relative;aspect-ratio:4/3;background:var(--surface-2)}
.team-photo img{width:100%;height:100%;object-fit:cover;object-position:center}
.team-body{padding:1rem}

/* Utilities */
.reveal{opacity:0;transform:translateY(10px);transition:all .6s ease}
.reveal.is-visible{opacity:1;transform:none}
.border-top{border-top:1px solid var(--line)}
.footer{border-top:1px solid var(--line);background:rgba(255,255,255,.6);backdrop-filter:blur(16px)}
html.dark .footer{background:rgba(15,23,42,.6)}
#backToTop{position:fixed;bottom:20px;right:20px;width:48px;height:48px;border-radius:9999px;z-index:55;display:none;align-items:center;justify-content:center;color:#fff;border:0;cursor:pointer;background:linear-gradient(90deg,var(--primary-1),var(--primary-2));box-shadow:var(--shadow-md)}
#backToTop.show{display:flex}

/* RTL helpers */
[dir="rtl"] .text-left{text-align:right}
[dir="rtl"] .text-right{text-align:left}
[dir="rtl"] .ml-auto{margin-left:0;margin-right:auto}
[dir="rtl"] .mr-auto{margin-right:0;margin-left:auto}

/* Scrollbar */
*{scrollbar-width:thin;scrollbar-color:rgba(100,116,139,.4) transparent}
*::-webkit-scrollbar{height:8px;width:8px}
*::-webkit-scrollbar-track{background:transparent}
*::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(148,163,184,.6), rgba(99,102,241,.6));border-radius:9999px}

/* Animations */
@keyframes moveA{0%,100%{transform:translate(0,0) rotate(0)}50%{transform:translate(3vw,-2vw) rotate(12deg)}}
@keyframes moveB{0%,100%{transform:translate(0,0) rotate(0)}50%{transform:translate(-2vw,2vw) rotate(-10deg)}}
@keyframes moveC{0%,100%{transform:translate(0,0) rotate(0)}50%{transform:translate(2vw,2vw) rotate(8deg)}}
@media (prefers-reduced-motion:reduce){*,*::before,*::after{animation:none!important;transition:none!important}html{scroll-behavior:auto}}
